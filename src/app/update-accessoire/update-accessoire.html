<div class="container mt-4">
  <h2 class="mb-4">Modifier un accessoire :</h2>

  <form #f="ngForm" (ngSubmit)="updateaccessoire()" novalidate>

    <!-- ID (hidden) -->
    <div hidden class="mb-3">
      <label for="idaccessoire" class="form-label">ID accessoire</label>
      <input
        type="text"
        id="idaccessoire"
        name="idaccessoire"
        [(ngModel)]="currentaccessoire.idaccessoire"
        #idaccessoire="ngModel"
        class="form-control"
        required
      />
      <div *ngIf="(f.submitted || idaccessoire.touched) && idaccessoire.errors?.['required']" class="text-danger">
        L’ID est obligatoire !
      </div>
    </div>

    <!-- Nom -->
    <div class="mb-3">
      <label for="nomaccessoire" class="form-label">Nom accessoire</label>
      <input
        type="text"
        id="nomaccessoire"
        name="nomaccessoire"
        [(ngModel)]="currentaccessoire.nomaccessoire"
        #nomaccessoire="ngModel"
        class="form-control"
        required
        minlength="3"
      />
      <div *ngIf="(f.submitted || nomaccessoire.touched) && nomaccessoire.errors?.['required']" class="text-danger">
        Le nom est obligatoire !
      </div>
      <div *ngIf="(f.submitted || nomaccessoire.touched) && nomaccessoire.errors?.['minlength']" class="text-danger">
        Le nom doit contenir au moins 3 caractères !
      </div>
    </div>

    <!-- Prix -->
    <div class="mb-3">
      <label for="prixaccessoire" class="form-label">Prix accessoire</label>
      <input
        type="number"
        id="prixaccessoire"
        name="prixaccessoire"
        [(ngModel)]="currentaccessoire.prixaccessoire"
        #prixaccessoire="ngModel"
        class="form-control"
        required
        min="1"
      />
      <div *ngIf="(f.submitted || prixaccessoire.touched) && prixaccessoire.errors?.['required']" class="text-danger">
        Le prix est obligatoire !
      </div>
      <div *ngIf="(f.submitted || prixaccessoire.touched) && prixaccessoire.errors?.['min']" class="text-danger">
        Le prix doit être positif !
      </div>
    </div>

    <!-- Date -->
    <div class="mb-3">
      <label for="dateCreation" class="form-label">Date création</label>
      <input
        type="date"
        id="dateCreation"
        name="dateCreation"
        [ngModel]="currentaccessoire.dateCreation | date:'yyyy-MM-dd'"
        (ngModelChange)="currentaccessoire.dateCreation = $event"
        #dateCreation="ngModel"
        class="form-control"
        required
      />
      <div *ngIf="(f.submitted || dateCreation.touched) && dateCreation.errors?.['required']" class="text-danger">
        La date est obligatoire !
      </div>
    </div>

    <!-- Couleur -->
    <div class="mb-3">
      <label for="idCoul" class="form-label">Couleur</label>
      <select
        id="idCoul"
        name="idCoul"
        class="form-control"
        [(ngModel)]="updatedCoulId"
        #idCoul="ngModel"
        required
      >
        <option value="">-- Choisir une couleur --</option>
        <option *ngFor="let coul of couleurs" [ngValue]="coul.idCoul">{{ coul.nomCoul }}</option>
      </select>
      <div *ngIf="(f.submitted || idCoul.touched) && idCoul.errors?.['required']" class="text-danger">
        La couleur est obligatoire !
      </div>
    </div>
    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="currentaccessoire.email"
        #email="ngModel"
        class="form-control"
        required
        email
      />
      <div *ngIf="(f.submitted || email.touched) && email.errors?.['required']" class="text-danger">
        L’email est obligatoire !
      </div>
      <div *ngIf="(f.submitted || email.touched) && email.errors?.['email']" class="text-danger">
        L’email n’est pas valide !
      </div>
    </div>

    <div class="mt-3">
      <button type="submit" [disabled]="f.invalid" class="btn btn-success">Modifier</button>
    </div>

  </form>
</div>
