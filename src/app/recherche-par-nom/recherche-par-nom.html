<div class="container">
  <form class="form-inline">
    <div class="form-group mx-sm-3 mb-2 mt-2">
      <label>Nom accessoire en tapant</label>
      <input
        class="form-control"
        #searchTerm
        (keyup)="onKeyUp(searchTerm.value)"
        placeholder="Chercher un accessoire..."
      />
    </div>
  </form>
  <div class="card shadow mb-4">
    <div class="card-body">
      <table class="table table-striped">
        @if (accessoires.length != 0) {
        <thead>
          <tr>
            <th>index</th>
            <th>idaccessoire</th>
            <th>nomaccessoire</th>
            <th>prixaccessoire</th>
            <th>dateCreation</th>
            <th>couleur</th>
            <th>email</th>
            @if(authService.isAdmin()) {
            <th>actions</th>
            }
          </tr>
        </thead>
        } @for (accessoire of accessoires; track accessoire.idaccessoire; let index=$index;let
        nbr=$count;let first=$first;let last=$last) {
        <tbody>
          <tr>
            <td>{{ index + 1 }}</td>
            <td>{{ accessoire.idaccessoire }}</td>
            <td>{{ accessoire.nomaccessoire }}</td>
            <td>{{ accessoire.prixaccessoire }}</td>
            <td>{{ accessoire.dateCreation | date : 'dd/MM/yyyy' }}</td>
            <td>{{ accessoire.couleur.nomCoul }}</td>
            <td>{{ accessoire.email }}</td>
            @if(authService.isAdmin()) {
            <td>
              <a class="btn btn-danger" (click)="supprimeraccessoire(accessoire)">Supprimer</a>
              <a class="btn btn-success" [routerLink]="['/update-accessoire', accessoire.idaccessoire]"
                >Modifier</a
              >
            </td>
            }
          </tr>
        </tbody>
        @if (last) {
        <h1></h1>
        } } @empty {
        <h1>Aucun accessoire trouv√©</h1>
        }
      </table>
    </div>
  </div>
</div>